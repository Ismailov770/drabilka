module.exports=[1161,a=>{"use strict";var b=a.i(87924);let c={primary:"bg-gradient-to-r from-[#2563EB] to-[#4F46E5] text-white shadow-md hover:shadow-lg hover:brightness-110",secondary:"bg-white text-[#0F172A] border border-[#E2E8F0] hover:bg-[#F1F5F9] hover:border-[#CBD5E1]",danger:"bg-[#EF4444] text-white hover:bg-[#DC2626] shadow-sm",outline:"bg-transparent text-[#0F172A] border border-[#E2E8F0] hover:bg-[#F8FAFC] hover:border-[#CBD5E1]",ghost:"bg-transparent text-[#0F172A] hover:bg-[#F1F5F9]"},d={sm:"px-3 py-1.5 text-xs md:text-sm",md:"px-4 py-2 text-sm md:text-base",lg:"px-6 py-3 text-base md:text-lg"};function e({variant:a="primary",size:e="md",children:f,disabled:g,className:h="",...i}){return(0,b.jsx)("button",{className:`inline-flex items-center justify-center gap-2 rounded-full font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[#2563EB] focus-visible:ring-offset-[#F8FAFC] ${c[a]} ${d[e]} ${h}`,disabled:g,...i,children:f})}a.s(["Button",()=>e])},19941,a=>{"use strict";class b extends Error{status;data;constructor(a,b,c=null){super(a),this.name="ApiError",this.status=b,this.data=c}}async function c(a,d={}){let{method:e="GET",params:f,body:g,headers:h,signal:i}=d,j=function(a,b){let c=a.startsWith("http")?a:`http://localhost:8080/api${a}`;if(!b)return c;let d=new URL(c);return Object.entries(b).forEach(([a,b])=>{null!=b&&d.searchParams.append(a,String(b))}),d.toString()}(a,f),k={"Content-Type":"application/json",...h},l={method:e,headers:k,signal:i};if(null!=g&&"GET"!==e)if(g instanceof FormData){let{"Content-Type":a,...b}=k;l.headers=k=b,l.body=g}else l.body=JSON.stringify(g);let m=await fetch(j,l),n=await m.text(),o=null;if(n)try{o=JSON.parse(n)}catch{o=n}if(!m.ok)throw new b(m.statusText||"Request failed",m.status,o);return o}function d(a,b){return c(a,{...b,method:"GET"})}function e(a,b,d){return c(a,{...d,method:"POST",body:b})}a.s(["ApiError",()=>b,"get",()=>d,"post",()=>e])},44499,a=>{"use strict";var b=a.i(87924);let c=(0,a.i(70106).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),d={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"};function e({isOpen:a,title:e,onClose:f,children:g,size:h="md"}){return a?(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-8 bg-slate-950/60 backdrop-blur-sm sm-animate-overlay-in",children:(0,b.jsxs)("div",{className:`w-full ${d[h]} bg-white rounded-2xl border border-slate-200/80 card-shadow-lg overflow-hidden max-h-[90vh] flex flex-col sm-animate-modal-in`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200/80",children:[(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900",children:e}),(0,b.jsx)("button",{onClick:f,className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-slate-400 hover:text-slate-900 hover:bg-slate-100 transition-colors",children:(0,b.jsx)(c,{className:"w-4 h-4"})})]}),(0,b.jsx)("div",{className:"px-6 py-5 overflow-y-auto",children:g})]})}):null}a.s(["Modal",()=>e],44499)},23755,a=>{"use strict";var b=a.i(87924),c=a.i(1161),d=a.i(72131),e=a.i(44499),f=a.i(19941);let g="Xodim Ismi",h="Miqdor",i="Tafsifi",j="Xodim Oyligi",k="Ehtyot (Avans)",l="Solyarka",m="Yo'l/Transport",n="Boshqa",o="Saqlash";function p(){let[a,p]=(0,d.useState)(!1),[q,r]=(0,d.useState)(!1),[s,t]=(0,d.useState)(!1),[u,v]=(0,d.useState)("all"),[w,x]=(0,d.useState)(j),[y,z]=(0,d.useState)(""),[A,B]=(0,d.useState)([]),[C,D]=(0,d.useState)([]),[E,F]=(0,d.useState)(null),[G,H]=(0,d.useState)(!1),[I,J]=(0,d.useState)(""),[K,L]=(0,d.useState)("Oddiy sement"),[M,N]=(0,d.useState)(""),[O,P]=(0,d.useState)(""),[Q,R]=(0,d.useState)("Naqd");return(0,d.useEffect)(()=>{let a=!1;return(async()=>{H(!0),F(null);try{let b=await (0,f.get)("/cashier-dashboard");if(a)return;let c=Array.isArray(b.employees)?b:b.items,d=(c?.employees??[]).map(a=>({name:a.employeeName,salary:a.baseSalary,paidAdvance:a.advance,totalExpense:a.total,date:""})),e=(c?.expenses??[]).map(a=>({type:a.type,employee:a.employeeName??"",amount:a.amount,date:a.date,description:a.description}));B(d),D(e)}catch(b){if(a)return;b instanceof f.ApiError?F(b.data&&b.data.message||b.message||"Kassir paneli ma'lumotlarini yuklashda xatolik yuz berdi"):F("Kassir paneli ma'lumotlarini yuklashda xatolik yuz berdi. Iltimos, qayta urinib ko'ring.")}finally{a||H(!1)}})(),()=>{a=!0}},[]),(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-semibold text-slate-900",children:"Kasser Paneli"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Moliyaviy Ko'rinish"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-6 card-shadow-lg border border-slate-100",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Xodimlar"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200",children:[(0,b.jsx)("th",{className:"text-left px-3 py-2 font-semibold text-slate-700",children:g}),(0,b.jsx)("th",{className:"text-left px-3 py-2 font-semibold text-slate-700",children:"Oyliq"}),(0,b.jsx)("th",{className:"text-left px-3 py-2 font-semibold text-slate-700",children:"To'langan Ehtyot"}),(0,b.jsx)("th",{className:"text-left px-3 py-2 font-semibold text-slate-700",children:"Jami Rasxod"})]})}),(0,b.jsx)("tbody",{children:A.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[(0,b.jsx)("td",{className:"px-3 py-3 text-slate-900 font-medium",children:a.name}),(0,b.jsxs)("td",{className:"px-3 py-3 text-slate-700",children:[a.salary," $"]}),(0,b.jsxs)("td",{className:"px-3 py-3 text-slate-700",children:[a.paidAdvance," $"]}),(0,b.jsxs)("td",{className:"px-3 py-3 font-semibold text-blue-600",children:[a.totalExpense," $"]})]},c))})]})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-6 card-shadow-lg border border-slate-100",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Ehtiyotlar"}),(0,b.jsx)("div",{className:"space-y-3",children:A.map((a,c)=>(0,b.jsxs)("div",{className:"flex justify-between items-center p-3 border border-slate-100 rounded-lg hover:bg-slate-50",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-slate-900",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:a.date})]}),(0,b.jsxs)("span",{className:"font-semibold text-amber-600",children:[a.paidAdvance," $"]})]},c))})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-6 card-shadow-lg border border-slate-100",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Rasxodlar Jadvali"}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsxs)("select",{value:u,onChange:a=>v(a.target.value),className:"sm-select text-sm",children:[(0,b.jsx)("option",{value:"all",children:"Barcha rasxodlar"}),(0,b.jsx)("option",{value:"salary",children:"Oyliq"}),(0,b.jsx)("option",{value:"advance",children:"Ehtyot"}),(0,b.jsx)("option",{value:"fuel",children:"Solyarka"}),(0,b.jsx)("option",{value:"road",children:"Yo'l"}),(0,b.jsx)("option",{value:"other",children:"Boshqa"})]})})]}),E&&(0,b.jsx)("p",{className:"mb-4 text-sm text-red-600",children:E}),G&&!E&&(0,b.jsx)("p",{className:"mb-4 text-sm text-slate-500",children:"Yuklanmoqda..."}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50",children:[(0,b.jsx)("th",{className:"text-left px-4 py-3 font-semibold text-slate-700",children:"Sana"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 font-semibold text-slate-700",children:"Turi"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 font-semibold text-slate-700",children:g}),(0,b.jsx)("th",{className:"text-left px-4 py-3 font-semibold text-slate-700",children:i}),(0,b.jsx)("th",{className:"text-right px-4 py-3 font-semibold text-slate-700",children:h})]})}),(0,b.jsx)("tbody",{children:C.filter(a=>"all"===u||"salary"===u&&"Oyliq"===a.type||"advance"===u&&"Ehtyot"===a.type||"fuel"===u&&"Solyarka"===a.type||"road"===u&&"Yo'l"===a.type||"other"===u&&"Boshqa"===a.type).map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[(0,b.jsx)("td",{className:"px-4 py-3 text-slate-600 text-sm",children:a.date}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"Oyliq"===a.type?"bg-blue-100 text-blue-700":"Ehtyot"===a.type?"bg-purple-100 text-purple-700":"Solyarka"===a.type?"bg-orange-100 text-orange-700":"Yo'l"===a.type?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:a.type})}),(0,b.jsx)("td",{className:"px-4 py-3 text-slate-900 font-medium",children:a.employee}),(0,b.jsx)("td",{className:"px-4 py-3 text-slate-600",children:a.description}),(0,b.jsxs)("td",{className:"px-4 py-3 text-right text-slate-900 font-semibold",children:[a.amount," $"]})]},c))})]})})]}),(0,b.jsx)(e.Modal,{isOpen:a,title:"Savdo Qo'shish",onClose:()=>p(!1),size:"md",children:(0,b.jsxs)("form",{className:"space-y-4",onSubmit:async a=>{a.preventDefault();try{let a={client:I||"Naqd mijoz",phone:"",material:K,weight:Number(M)||0,price:Number(O)||0,date:new Date().toISOString().slice(0,10),employee:"Kassir",carNumber:I||"",paymentType:Q,note:""};await (0,f.post)("/sales",a)}catch(a){a instanceof f.ApiError?console.error("Savdoni saqlashda xatolik:",a.data||a.message):console.error("Savdoni saqlashda xatolik:",a)}J(""),L("Oddiy sement"),N(""),P(""),R("Naqd"),p(!1)},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Truck nomeri"}),(0,b.jsx)("input",{type:"text",placeholder:"10/O568DS",value:I,onChange:a=>J(a.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Material Turi"}),(0,b.jsxs)("select",{value:K,onChange:a=>L(a.target.value),className:"w-full sm-select",children:[(0,b.jsx)("option",{children:"Oddiy sement"}),(0,b.jsx)("option",{children:"Tez qotuvchi sement"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Og'irligi (tonna)"}),(0,b.jsx)("input",{type:"number",placeholder:"0",value:M,onChange:a=>N(""===a.target.value?"":Number(a.target.value)),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Bir Tonnaga Narx ($)"}),(0,b.jsx)("input",{type:"number",placeholder:"0",value:O,onChange:a=>P(""===a.target.value?"":Number(a.target.value)),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"To'lov Turi"}),(0,b.jsxs)("select",{value:Q,onChange:a=>R(a.target.value),className:"w-full sm-select",children:[(0,b.jsx)("option",{value:"Naqd",children:"Naqd Pul"}),(0,b.jsx)("option",{value:"Qarzga",children:"Qarzga"})]})]}),(0,b.jsx)(c.Button,{type:"submit",variant:"primary",className:"w-full",children:o})]})}),(0,b.jsx)(e.Modal,{isOpen:q,title:"Rasxod Qo'shish",onClose:()=>r(!1),size:"md",children:(0,b.jsxs)("form",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Rasxod Turi"}),(0,b.jsxs)("select",{value:w,onChange:a=>{let b=a.target.value;x(b),b===j?z(A[0]?.name??""):z("")},className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",children:[(0,b.jsx)("option",{value:j,children:j}),(0,b.jsx)("option",{value:k,children:k}),(0,b.jsx)("option",{value:l,children:l}),(0,b.jsx)("option",{value:m,children:m}),(0,b.jsx)("option",{value:n,children:n})]})]}),w===j&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:g}),(0,b.jsx)("select",{value:y,onChange:a=>z(a.target.value),className:"w-full sm-select",children:A.map(a=>(0,b.jsx)("option",{value:a.name,children:a.name},a.name))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:h}),(0,b.jsx)("input",{type:"number",placeholder:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:i}),(0,b.jsx)("textarea",{placeholder:"Rasxod tafsilotlari",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",rows:3})]}),(0,b.jsx)(c.Button,{type:"submit",variant:"primary",className:"w-full",children:o})]})})]})}a.s(["default",()=>p])}];

//# sourceMappingURL=_75c5b526._.js.map