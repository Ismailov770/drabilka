{"version":3,"sources":["../../../../components/modal.tsx","../../../../node_modules/lucide-react/src/icons/x.ts","../../../../styles/lib/api.ts","../../../../components/data-table.tsx","../../../../components/button.tsx","../../../../app/cashier-dashboard/sales/page.tsx","../../../../components/print-receipt.tsx"],"sourcesContent":["\"use client\"\n\nimport type { ReactNode } from \"react\"\nimport { X } from \"lucide-react\"\n\ninterface ModalProps {\n  isOpen: boolean\n  title: string\n  onClose: () => void\n  children: ReactNode\n  size?: \"sm\" | \"md\" | \"lg\"\n}\n\nconst sizeClasses = {\n  sm: \"max-w-sm\",\n  md: \"max-w-md\",\n  lg: \"max-w-lg\",\n}\n\nexport function Modal({ isOpen, title, onClose, children, size = \"md\" }: ModalProps) {\n  if (!isOpen) return null\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center px-4 py-8 bg-slate-950/60 backdrop-blur-sm sm-animate-overlay-in\">\n      <div\n        className={`w-full ${sizeClasses[size]} bg-white rounded-2xl border border-slate-200/80 card-shadow-lg overflow-hidden max-h-[90vh] flex flex-col sm-animate-modal-in`}\n      >\n        <div className=\"flex items-center justify-between px-6 py-4 border-b border-slate-200/80\">\n          <h2 className=\"text-base md:text-lg font-semibold text-slate-900\">{title}</h2>\n          <button\n            onClick={onClose}\n            className=\"inline-flex h-8 w-8 items-center justify-center rounded-full text-slate-400 hover:text-slate-900 hover:bg-slate-100 transition-colors\"\n          >\n            <X className=\"w-4 h-4\" />\n          </button>\n        </div>\n        <div className=\"px-6 py-5 overflow-y-auto\">{children}</div>\n      </div>\n    </div>\n  )\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name X\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggNiA2IDE4IiAvPgogIDxwYXRoIGQ9Im02IDYgMTIgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst X = createLucideIcon('X', [\n  ['path', { d: 'M18 6 6 18', key: '1bl5f8' }],\n  ['path', { d: 'm6 6 12 12', key: 'd8bk6v' }],\n]);\n\nexport default X;\n","const API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL ?? \"http://localhost:8080/api\"\r\n\r\nexport type HttpMethod = \"GET\" | \"POST\" | \"PUT\" | \"PATCH\" | \"DELETE\"\r\n\r\nexport interface RequestOptions {\r\n  method?: HttpMethod\r\n  params?: Record<string, string | number | boolean | null | undefined>\r\n  body?: any\r\n  headers?: Record<string, string>\r\n  signal?: AbortSignal\r\n}\r\n\r\nexport class ApiError<T = any> extends Error {\r\n  status: number\r\n  data: T | null\r\n\r\n  constructor(message: string, status: number, data: T | null = null) {\r\n    super(message)\r\n    this.name = \"ApiError\"\r\n    this.status = status\r\n    this.data = data\r\n  }\r\n}\r\n\r\nfunction buildUrl(path: string, params?: RequestOptions[\"params\"]): string {\r\n  const base = path.startsWith(\"http\") ? path : `${API_BASE_URL}${path}`\r\n  if (!params) return base\r\n\r\n  const url = new URL(base)\r\n\r\n  Object.entries(params).forEach(([key, value]) => {\r\n    if (value === undefined || value === null) return\r\n    url.searchParams.append(key, String(value))\r\n  })\r\n\r\n  return url.toString()\r\n}\r\n\r\nexport async function apiRequest<T = any>(path: string, options: RequestOptions = {}): Promise<T> {\r\n  const { method = \"GET\", params, body, headers, signal } = options\r\n\r\n  const url = buildUrl(path, params)\r\n\r\n  let finalHeaders: Record<string, string> = {\r\n    \"Content-Type\": \"application/json\",\r\n    ...headers,\r\n  }\r\n\r\n  if (typeof window !== \"undefined\") {\r\n    try {\r\n      const token = window.localStorage.getItem(\"authToken\")\r\n      if (token && !finalHeaders.Authorization) {\r\n        finalHeaders = {\r\n          ...finalHeaders,\r\n          Authorization: `Bearer ${token}`,\r\n        }\r\n      }\r\n    } catch {\r\n    }\r\n  }\r\n\r\n  const init: RequestInit = {\r\n    method,\r\n    headers: finalHeaders,\r\n    signal,\r\n  }\r\n\r\n  if (body !== undefined && body !== null && method !== \"GET\") {\r\n    if (body instanceof FormData) {\r\n      const { [\"Content-Type\"]: _removed, ...rest } = finalHeaders as Record<string, string>\r\n      finalHeaders = rest\r\n      init.headers = finalHeaders\r\n      init.body = body\r\n    } else {\r\n      init.body = JSON.stringify(body)\r\n    }\r\n  }\r\n\r\n  const response = await fetch(url, init)\r\n  const text = await response.text()\r\n\r\n  let data: any = null\r\n\r\n  if (text) {\r\n    try {\r\n      data = JSON.parse(text)\r\n    } catch {\r\n      data = text\r\n    }\r\n  }\r\n\r\n  if (!response.ok) {\r\n    throw new ApiError(response.statusText || \"Request failed\", response.status, data)\r\n  }\r\n\r\n  return data as T\r\n}\r\n\r\nexport function get<T = any>(path: string, options?: Omit<RequestOptions, \"method\" | \"body\">): Promise<T> {\r\n  return apiRequest<T>(path, { ...options, method: \"GET\" })\r\n}\r\n\r\nexport function post<T = any, B = any>(\r\n  path: string,\r\n  body?: B,\r\n  options?: Omit<RequestOptions, \"method\" | \"body\">,\r\n): Promise<T> {\r\n  return apiRequest<T>(path, { ...options, method: \"POST\", body })\r\n}\r\n\r\nexport function put<T = any, B = any>(\r\n  path: string,\r\n  body?: B,\r\n  options?: Omit<RequestOptions, \"method\" | \"body\">,\r\n): Promise<T> {\r\n  return apiRequest<T>(path, { ...options, method: \"PUT\", body })\r\n}\r\n\r\nexport function patch<T = any, B = any>(\r\n  path: string,\r\n  body?: B,\r\n  options?: Omit<RequestOptions, \"method\" | \"body\">,\r\n): Promise<T> {\r\n  return apiRequest<T>(path, { ...options, method: \"PATCH\", body })\r\n}\r\n\r\nexport function del<T = any, B = any>(\r\n  path: string,\r\n  body?: B,\r\n  options?: Omit<RequestOptions, \"method\" | \"body\">,\r\n): Promise<T> {\r\n  return apiRequest<T>(path, { ...options, method: \"DELETE\", body })\r\n}\r\n\r\nexport { API_BASE_URL }\r\n","\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\n\ninterface Column {\n  key: string\n  label: string\n  sortable?: boolean\n}\n\ninterface DataTableProps {\n  columns: Column[]\n  data: Record<string, any>[]\n  searchableFields?: string[]\n  actions?: (row: Record<string, any>) => React.ReactNode\n  renderCell?: (row: Record<string, any>, col: Column) => React.ReactNode\n  footerTotals?: Record<string, number>\n}\n\nexport function DataTable({ columns, data, searchableFields = [], actions, renderCell, footerTotals }: DataTableProps) {\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [sortConfig, setSortConfig] = useState<{ key: string; direction: \"asc\" | \"desc\" } | null>(null)\n  const [currentPage, setCurrentPage] = useState(1)\n\n  let filteredData = data\n\n  if (searchableFields.length > 0) {\n    filteredData = data.filter((row) =>\n      searchableFields.some((field) => String(row[field]).toLowerCase().includes(searchTerm.toLowerCase())),\n    )\n  }\n\n  if (sortConfig) {\n    filteredData = [...filteredData].sort((a, b) => {\n      const aVal = a[sortConfig.key]\n      const bVal = b[sortConfig.key]\n      const comparison = aVal < bVal ? -1 : aVal > bVal ? 1 : 0\n      return sortConfig.direction === \"asc\" ? comparison : -comparison\n    })\n  }\n\n  const itemsPerPage = 10\n  const totalPages = Math.ceil(filteredData.length / itemsPerPage)\n  const displayData = filteredData.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage)\n\n  // Calculate totals from filtered data (including search filter)\n  const calculatedTotals = footerTotals\n    ? filteredData.reduce(\n        (acc, row) => {\n          if (row.quantity !== undefined) acc.quantity += row.quantity\n          if (row.totalSum !== undefined) acc.totalSum += row.totalSum\n          if (row.amount !== undefined) acc.amount += row.amount\n          if (row.total !== undefined) acc.total += row.total\n          if (row.advance !== undefined) acc.advance += row.advance\n          if (row.remaining !== undefined) acc.remaining += row.remaining\n          if (row.cost !== undefined) acc.cost += row.cost\n          if (row.count !== undefined) acc.count += row.count\n          return acc\n        },\n        { quantity: 0, totalSum: 0, amount: 0, total: 0, advance: 0, remaining: 0, cost: 0, count: filteredData.length },\n      )\n    : null\n\n  const handleSort = (key: string) => {\n    setSortConfig((prev) =>\n      prev?.key === key && prev.direction === \"asc\" ? { key, direction: \"desc\" } : { key, direction: \"asc\" },\n    )\n    setCurrentPage(1)\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {searchableFields.length > 0 && (\n        <div className=\"flex gap-4\">\n          <input\n            type=\"text\"\n            placeholder=\"Search...\"\n            value={searchTerm}\n            onChange={(e) => {\n              setSearchTerm(e.target.value)\n              setCurrentPage(1)\n            }}\n            className=\"flex-1 px-4 py-2 border border-slate-200 rounded-lg text-sm text-slate-700 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-[#2563EB]\"\n          />\n        </div>\n      )}\n\n      <div className=\"overflow-x-auto rounded-2xl border border-slate-100\">\n        <table className=\"w-full\">\n          <thead>\n            <tr className=\"bg-slate-50 border-b border-slate-200\">\n              {columns.map((col) => (\n                <th key={col.key} className=\"px-6 py-3 text-left\">\n                  {col.sortable ? (\n                    <button\n                      onClick={() => handleSort(col.key)}\n                      className=\"flex items-center gap-2 font-semibold text-slate-700 hover:text-[#2563EB] transition-colors\"\n                    >\n                      {col.label}\n                      {sortConfig?.key === col.key && <span>{sortConfig.direction === \"asc\" ? \"↑\" : \"↓\"}</span>}\n                    </button>\n                  ) : (\n                    <span className=\"font-semibold text-slate-700\">{col.label}</span>\n                  )}\n                </th>\n              ))}\n              {actions && <th className=\"px-6 py-3 text-left font-semibold text-slate-700\">Actions</th>}\n            </tr>\n          </thead>\n          <tbody>\n            {displayData.map((row, idx) => (\n              <tr key={idx} className=\"border-b border-slate-100 hover:bg-slate-50 transition-colors\">\n                {columns.map((col) => (\n                  <td key={col.key} className=\"px-6 py-4 text-slate-900 text-sm\">\n                    {renderCell ? renderCell(row, col) : row[col.key]}\n                  </td>\n                ))}\n                {actions && <td className=\"px-6 py-4\">{actions(row)}</td>}\n              </tr>\n            ))}\n          </tbody>\n          {calculatedTotals && (\n            <tfoot>\n              <tr className=\"bg-slate-50 border-t border-slate-200 font-semibold\">\n                {columns.map((col) => {\n                  if (col.key === \"quantity\" && calculatedTotals.quantity !== undefined) {\n                    return (\n                      <td key={col.key} className=\"px-6 py-4 text-slate-900 text-sm\">\n                        {new Intl.NumberFormat(\"ru-RU\", { maximumFractionDigits: 0 }).format(calculatedTotals.quantity)} tonna\n                      </td>\n                    )\n                  }\n                  if (col.key === \"cost\" && calculatedTotals.cost !== undefined) {\n                    return (\n                      <td key={col.key} className=\"px-6 py-4 text-slate-900 text-sm\">\n                        {new Intl.NumberFormat(\"ru-RU\", { style: \"currency\", currency: \"USD\", maximumFractionDigits: 0 }).format(\n                          calculatedTotals.cost,\n                        )}\n                      </td>\n                    )\n                  }\n                  if (col.key === \"totalSum\" && calculatedTotals.totalSum !== undefined) {\n                    return (\n                      <td key={col.key} className=\"px-6 py-4 text-slate-900 text-sm\">\n                        {new Intl.NumberFormat(\"ru-RU\", { maximumFractionDigits: 0 }).format(calculatedTotals.totalSum)} so'm\n                      </td>\n                    )\n                  }\n                  if (col.key === \"amount\" && calculatedTotals.amount !== undefined) {\n                    return (\n                      <td key={col.key} className=\"px-6 py-4 text-slate-900 text-sm\">\n                        {new Intl.NumberFormat(\"ru-RU\", { style: \"currency\", currency: \"USD\", maximumFractionDigits: 0 }).format(\n                          calculatedTotals.amount,\n                        )}\n                      </td>\n                    )\n                  }\n                  if (col.key === \"total\" && calculatedTotals.total !== undefined) {\n                    return (\n                      <td key={col.key} className=\"px-6 py-4 text-slate-900 text-sm\">\n                        {new Intl.NumberFormat(\"ru-RU\", { style: \"currency\", currency: \"USD\", maximumFractionDigits: 0 }).format(\n                          calculatedTotals.total,\n                        )}\n                      </td>\n                    )\n                  }\n                  if (col.key === \"advance\" && calculatedTotals.advance !== undefined) {\n                    return (\n                      <td key={col.key} className=\"px-6 py-4 text-slate-900 text-sm\">\n                        {new Intl.NumberFormat(\"ru-RU\", { style: \"currency\", currency: \"USD\", maximumFractionDigits: 0 }).format(\n                          calculatedTotals.advance,\n                        )}\n                      </td>\n                    )\n                  }\n                  if (col.key === \"remaining\" && calculatedTotals.remaining !== undefined) {\n                    return (\n                      <td key={col.key} className=\"px-6 py-4 text-slate-900 text-sm\">\n                        {new Intl.NumberFormat(\"ru-RU\", { style: \"currency\", currency: \"USD\", maximumFractionDigits: 0 }).format(\n                          calculatedTotals.remaining,\n                        )}\n                      </td>\n                    )\n                  }\n                  if (col.key === \"batchId\" || col.key === \"id\") {\n                    return (\n                      <td key={col.key} className=\"px-6 py-4 text-slate-900 text-right font-semibold text-sm\">\n                        Jami:\n                      </td>\n                    )\n                  }\n                  // Show count in operator column if count is available\n                  if (col.key === \"operator\" && calculatedTotals.count !== undefined && calculatedTotals.count > 0) {\n                    return (\n                      <td key={col.key} className=\"px-6 py-4 text-slate-900 font-semibold text-sm\">\n                        {new Intl.NumberFormat(\"ru-RU\", { maximumFractionDigits: 0 }).format(calculatedTotals.count)} ta\n                      </td>\n                    )\n                  }\n                  // Show count in loggedAt, producedAt, or payoutDate column if operator column doesn't exist\n                  if (\n                    (col.key === \"producedAt\" || col.key === \"loggedAt\" || col.key === \"payoutDate\" || col.key === \"date\") &&\n                    calculatedTotals.count !== undefined &&\n                    calculatedTotals.count > 0 &&\n                    !columns.find((c) => c.key === \"operator\")\n                  ) {\n                    return (\n                      <td key={col.key} className=\"px-6 py-4 text-slate-900 font-semibold text-sm\">\n                        {new Intl.NumberFormat(\"ru-RU\", { maximumFractionDigits: 0 }).format(calculatedTotals.count)} ta\n                      </td>\n                    )\n                  }\n                  // Show count in status column if no operator or date column\n                  if (\n                    col.key === \"status\" &&\n                    calculatedTotals.count !== undefined &&\n                    calculatedTotals.count > 0 &&\n                    !columns.find((c) => c.key === \"operator\") &&\n                    !columns.find((c) => c.key === \"producedAt\" || c.key === \"loggedAt\" || c.key === \"payoutDate\" || c.key === \"date\")\n                  ) {\n                    return (\n                      <td key={col.key} className=\"px-6 py-4 text-slate-900 font-semibold text-sm\">\n                        {new Intl.NumberFormat(\"ru-RU\", { maximumFractionDigits: 0 }).format(calculatedTotals.count)} ta\n                      </td>\n                    )\n                  }\n                  // Show count in transport column if no operator, date, or status column\n                  if (\n                    col.key === \"transport\" &&\n                    calculatedTotals.count !== undefined &&\n                    calculatedTotals.count > 0 &&\n                    !columns.find((c) => c.key === \"operator\") &&\n                    !columns.find((c) => c.key === \"producedAt\" || c.key === \"loggedAt\" || c.key === \"payoutDate\" || c.key === \"date\") &&\n                    !columns.find((c) => c.key === \"status\")\n                  ) {\n                    return (\n                      <td key={col.key} className=\"px-6 py-4 text-slate-900 font-semibold text-sm\">\n                        {new Intl.NumberFormat(\"ru-RU\", { maximumFractionDigits: 0 }).format(calculatedTotals.count)} ta\n                      </td>\n                    )\n                  }\n                  return (\n                    <td key={col.key} className=\"px-6 py-4 text-slate-400 text-sm\">\n                      -\n                    </td>\n                  )\n                })}\n                {actions && <td className=\"px-6 py-4\"></td>}\n              </tr>\n            </tfoot>\n          )}\n        </table>\n      </div>\n\n      {totalPages > 1 && (\n        <div className=\"flex justify-between items-center\">\n          <span className=\"text-sm text-slate-500\">\n            Page {currentPage} of {totalPages}\n          </span>\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => setCurrentPage((prev) => Math.max(1, prev - 1))}\n              disabled={currentPage === 1}\n              className=\"px-3 py-1 border border-slate-200 rounded-full text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50\"\n            >\n              Previous\n            </button>\n            <button\n              onClick={() => setCurrentPage((prev) => Math.min(totalPages, prev + 1))}\n              disabled={currentPage === totalPages}\n              className=\"px-3 py-1 border border-slate-200 rounded-full text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50\"\n            >\n              Next\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n","import type React from \"react\"\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: \"primary\" | \"secondary\" | \"danger\" | \"outline\" | \"ghost\"\n  size?: \"sm\" | \"md\" | \"lg\"\n}\n\nconst variants = {\n  primary:\n    \"bg-gradient-to-r from-[#2563EB] to-[#4F46E5] text-white shadow-md hover:shadow-lg hover:brightness-110\",\n  secondary:\n    \"bg-white text-[#0F172A] border border-[#E2E8F0] hover:bg-[#F1F5F9] hover:border-[#CBD5E1]\",\n  danger: \"bg-[#EF4444] text-white hover:bg-[#DC2626] shadow-sm\",\n  outline:\n    \"bg-transparent text-[#0F172A] border border-[#E2E8F0] hover:bg-[#F8FAFC] hover:border-[#CBD5E1]\",\n  ghost: \"bg-transparent text-[#0F172A] hover:bg-[#F1F5F9]\",\n}\n\nconst sizes = {\n  sm: \"px-3 py-1.5 text-xs md:text-sm\",\n  md: \"px-4 py-2 text-sm md:text-base\",\n  lg: \"px-6 py-3 text-base md:text-lg\",\n}\n\nexport function Button({ variant = \"primary\", size = \"md\", children, disabled, className = \"\", ...props }: ButtonProps) {\n  return (\n    <button\n      className={`inline-flex items-center justify-center gap-2 rounded-full font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[#2563EB] focus-visible:ring-offset-[#F8FAFC] ${variants[variant]} ${sizes[size]} ${className}`}\n      disabled={disabled}\n      {...props}\n    >\n      {children}\n    </button>\n  )\n}\n","\"use client\"\n\nimport { useEffect, useState } from \"react\"\n\nimport { DataTable } from \"@/components/data-table\"\nimport { printSaleReceipt } from \"@/components/print-receipt\"\nimport { Button } from \"@/components/button\"\nimport { Modal } from \"@/components/modal\"\nimport { ApiError, get, post } from \"@/styles/lib/api\"\n\ntype Sale = {\n  id: string\n  client: string\n  phone: string\n  material: string\n  weight: number\n  price: number\n  date: string\n  employee: string\n  carNumber: string\n  paymentType: string\n  note?: string\n}\n\nexport default function SalesPage() {\n  const [showAddSale, setShowAddSale] = useState(false)\n  const [sales, setSales] = useState<Sale[]>([])\n\n  const [paymentType, setPaymentType] = useState(\"Naqd\")\n  const [debtorName, setDebtorName] = useState(\"\")\n  const [clientPhone, setClientPhone] = useState(\"\")\n  const [carNumber, setCarNumber] = useState(\"\")\n  const [productType, setProductType] = useState(\"Shagal\")\n  const [weight, setWeight] = useState(\"\")\n  const [amount, setAmount] = useState(\"\")\n  const [error, setError] = useState<string | null>(null)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  useEffect(() => {\n    let cancelled = false\n\n    const fetchSales = async () => {\n      setError(null)\n      try {\n        const response = await get<Sale[] | { items?: Sale[] }>(\"/sales\")\n        if (cancelled) return\n        const items = Array.isArray(response) ? response : response.items ?? []\n        setSales(items)\n      } catch (err: any) {\n        if (cancelled) return\n        if (err instanceof ApiError) {\n          const backendMessage = (err.data && (err.data as any).message) || err.message || \"Savdolarni yuklashda xatolik yuz berdi\"\n          setError(backendMessage)\n        } else {\n          setError(\"Savdolarni yuklashda xatolik yuz berdi. Iltimos, qayta urinib ko'ring.\")\n        }\n      }\n    }\n\n    fetchSales()\n\n    return () => {\n      cancelled = true\n    }\n  }, [])\n\n  const columns = [\n    { key: \"id\", label: \"Savdo ID\", sortable: true },\n    { key: \"client\", label: \"Mijoz\", sortable: true },\n    { key: \"phone\", label: \"Telefon raqami\", sortable: true },\n    { key: \"carNumber\", label: \"Avto raqami\", sortable: true },\n    { key: \"material\", label: \"Mahsulot\", sortable: true },\n    { key: \"weight\", label: \"Og'irlik (t)\", sortable: true },\n    { key: \"price\", label: \"Summa (so'm)\", sortable: true },\n    { key: \"paymentType\", label: \"To'lov turi\", sortable: true },\n    { key: \"date\", label: \"Sana\", sortable: true },\n    { key: \"employee\", label: \"Mas'ul xodim\", sortable: true },\n  ]\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-start\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-[#0F172A]\">Savdolar boshqaruvi</h1>\n          <p className=\"text-[#64748B] mt-1\">Barcha sement savdolarini yaratish va kuzatish</p>\n        </div>\n        <Button onClick={() => setShowAddSale(true)} variant=\"primary\" size=\"lg\">\n          ➕ Yangi savdo\n        </Button>\n      </div>\n\n      <div className=\"bg-white rounded-lg p-6 card-shadow\">\n        <DataTable\n          columns={columns}\n          data={sales}\n          searchableFields={[\"id\", \"client\", \"phone\", \"material\", \"carNumber\", \"paymentType\"]}\n          actions={(row) => (\n            <div className=\"flex gap-2\">\n              <Button variant=\"outline\" size=\"sm\" onClick={() => printSaleReceipt(row)}>\n                Чек\n              </Button>\n            </div>\n          )}\n        />\n      </div>\n\n      <Modal isOpen={showAddSale} title=\"Yangi savdo qo'shish\" onClose={() => setShowAddSale(false)} size=\"md\">\n        <form\n          className=\"space-y-4\"\n          onSubmit={async (e) => {\n            e.preventDefault()\n            setIsSubmitting(true)\n            setError(null)\n\n            try {\n              const today = new Date().toISOString().slice(0, 10)\n              const payload = {\n                client: paymentType === \"Qarzga\" && debtorName ? debtorName : \"Naqd mijoz\",\n                phone: clientPhone,\n                material: productType,\n                weight: Number(weight) || 0,\n                price: Number(amount) || 0,\n                date: today,\n                employee: \"Kassir\",\n                carNumber,\n                paymentType,\n                note: paymentType === \"Qarzga\" ? \"Qarzga savdo\" : undefined,\n              }\n\n              const response = await post<Sale | { sale?: Sale }>(\"/sales\", payload)\n              const created = (response as any).sale ?? response\n\n              setSales((prev) => [...prev, created as Sale])\n\n              // Forma qiymатларини тозалаш\n              setClientPhone(\"\")\n              setCarNumber(\"\")\n              setProductType(\"Shagal\")\n              setWeight(\"\")\n              setAmount(\"\")\n              setPaymentType(\"Naqd\")\n              setDebtorName(\"\")\n              setShowAddSale(false)\n            } catch (err: any) {\n              if (err instanceof ApiError) {\n                const backendMessage = (err.data && (err.data as any).message) || err.message || \"Savdoni saqlashda xatolik yuz berdi\"\n                setError(backendMessage)\n              } else {\n                setError(\"Savdoni saqlashda xatolik yuz berdi. Iltimos, qayta urinib ko'ring.\")\n              }\n            } finally {\n              setIsSubmitting(false)\n            }\n          }}\n        >\n          <div>\n            <label className=\"block text-sm font-medium text-[#0F172A] mb-2\">Avto raqami</label>\n            <input\n              type=\"text\"\n              value={carNumber}\n              onChange={(e) => setCarNumber(e.target.value)}\n              placeholder=\"Avto raqami\"\n              className=\"w-full px-4 py-2 border border-[#E2E8F0] rounded-lg\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-[#0F172A] mb-2\">Telefon raqami</label>\n            <input\n              type=\"tel\"\n              value={clientPhone}\n              onChange={(e) => setClientPhone(e.target.value)}\n              placeholder=\"Masalan: +99890 123 45 67\"\n              className=\"w-full px-4 py-2 border border-[#E2E8F0] rounded-lg\"\n              required\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-[#0F172A] mb-2\">Mahsulot turi</label>\n            <select\n              value={productType}\n              onChange={(e) => setProductType(e.target.value)}\n              className=\"w-full sm-select\"\n            >\n              <option value=\"Shagal\">Shagal</option>\n              <option value=\"Qum\">Qum</option>\n              <option value=\"SHibyon\">SHibyon</option>\n              <option value=\"Kampot\">Kampot</option>\n            </select>\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-[#0F172A] mb-2\">Og'irlik (t)</label>\n            <input\n              type=\"number\"\n              value={weight}\n              onChange={(e) => setWeight(e.target.value)}\n              placeholder=\"0\"\n              className=\"w-full px-4 py-2 border border-[#E2E8F0] rounded-lg\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-[#0F172A] mb-2\">Summa (som)</label>\n            <input\n              type=\"number\"\n              value={amount}\n              onChange={(e) => setAmount(e.target.value)}\n              placeholder=\"0\"\n              className=\"w-full px-4 py-2 border border-[#E2E8F0] rounded-lg\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-[#0F172A] mb-2\">To'lov turi</label>\n            <select\n              value={paymentType}\n              onChange={(e) => setPaymentType(e.target.value)}\n              className=\"w-full sm-select\"\n            >\n              <option value=\"Naqd\">Naqd</option>\n              <option value=\"Qarzga\">Qarzga</option>\n              <option value=\"Click\">Click</option>\n            </select>\n          </div>\n          {paymentType === \"Qarzga\" && (\n            <div>\n              <label className=\"block text-sm font-medium text-[#0F172A] mb-2\">Kompaniya yoki shaxs</label>\n              <input\n                type=\"text\"\n                value={debtorName}\n                onChange={(e) => setDebtorName(e.target.value)}\n                placeholder=\"Masalan: Aliyev Murod yoki BuildCo Ltd.\"\n                className=\"w-full px-4 py-2 border border-[#E2E8F0] rounded-lg\"\n                required\n              />\n            </div>\n          )}\n          <Button\n            type=\"submit\"\n            variant=\"primary\"\n            className=\"w-full shadow-lg border rounded bg-gray-200 p-2 font-bold\"\n            disabled={isSubmitting}\n          >\n            Savdoni saqlash\n          </Button>\n          {error && <p className=\"text-sm text-red-600\">{error}</p>}\n        </form>\n      </Modal>\n    </div>\n  )\n}\n","\"use client\"\r\n\r\nimport React from \"react\"\r\n\r\nexport function printSaleReceipt(sale: Record<string, any>) {\r\n  // Build a simple printable HTML layout and open in new window\r\n  const amountToWords = (num: number) => {\r\n    try {\r\n      // simple english words for numbers under 1M — ok for demo receipts\r\n      const units = [\"zero\", \"one\", \"two\", \"three\", \"four\", \"five\", \"six\", \"seven\", \"eight\", \"nine\"]\r\n      if (num < 10) return units[num]\r\n      return num.toString() // fallback\r\n    } catch {\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n  const html = `\r\n    <html>\r\n      <head>\r\n        <meta charset=\"utf-8\" />\r\n        <title>Sale Receipt - ${sale.id}</title>\r\n        <style>\r\n          body { font-family: Arial, Helvetica, sans-serif; margin: 20px; }\r\n          .receipt { max-width: 380px; margin: 0 auto; }\r\n          .header { text-align: center; margin-bottom: 12px; }\r\n          .line { display:flex; justify-content:space-between; margin:6px 0; }\r\n          .total { font-weight: 700; font-size: 18px; margin-top: 12px; }\r\n          hr { border: none; border-top: 1px dashed #333; margin: 8px 0; }\r\n        </style>\r\n      </head>\r\n      <body>\r\n        <div class=\"receipt\">\r\n          <div class=\"header\">\r\n            <h2>SimentMaker - Receipt</h2>\r\n            <div>Sale: ${sale.id}</div>\r\n            <div>${new Date(sale.date || Date.now()).toLocaleString()}</div>\r\n          </div>\r\n          <hr />\r\n          <div class=\"line\"><div>Client</div><div>${sale.client}</div></div>\r\n          <div class=\"line\"><div>Phone</div><div>${sale.phone || '-'}</div></div>\r\n          <div class=\"line\"><div>Car</div><div>${sale.carNumber || '-'}</div></div>\r\n          <div class=\"line\"><div>Material</div><div>${sale.material}</div></div>\r\n          <div class=\"line\"><div>Weight</div><div>${sale.weight} ton</div></div>\r\n          <div class=\"line\"><div>Summa</div><div>${sale.price} so'm</div></div>\r\n          <div class=\"line\"><div>Employee</div><div>${sale.employee || '-'}</div></div>\r\n          <div class=\"line\"><div>Payment</div><div>${sale.paymentType || 'Unknown'}</div></div>\r\n          <hr />\r\n            <div class=\"total\">TOTAL: ${sale.price} so'm</div>\r\n            <div style=\"font-size:12px;color:#333;margin-top:6px\">Amount in words: ${amountToWords(Number(sale.price))}</div>\r\n\r\n            <div style=\"margin-top:18px;border-top:1px solid #ddd;padding-top:8px;display:flex;justify-content:space-between;\">\r\n              <div style=\"text-align:center;width:48%\">\r\n                <div style=\"height:48px\"></div>\r\n                <div style=\"border-top:1px dashed #999;padding-top:6px;font-size:12px;\">Customer signature</div>\r\n              </div>\r\n              <div style=\"text-align:center;width:48%\">\r\n                <div style=\"height:48px\"></div>\r\n                <div style=\"border-top:1px dashed #999;padding-top:6px;font-size:12px;\">Received by (Cashier)</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div style=\"margin-top:10px;font-size:11px;color:#666;\">Notes: ${sale.note || \"-\"}</div>\r\n            <div style=\"text-align:center;margin-top:14px;font-size:12px;color:#555;\">Thank you for your purchase</div>\r\n        </div>\r\n        <script>\r\n          setTimeout(() => { window.print(); }, 300);\r\n        </script>\r\n      </body>\r\n    </html>\r\n  `\r\n\r\n  const newWindow = window.open(\"\", \"_blank\", \"width=420,height=680\")\r\n    if (newWindow) {\r\n    newWindow.document.open()\r\n    newWindow.document.write(html)\r\n    newWindow.document.close()\r\n  } else {\r\n    alert(\"Please allow popups to print receipt\")\r\n  }\r\n}\r\n\r\nexport default function PrintReceipt() {\r\n  return null\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[1]}