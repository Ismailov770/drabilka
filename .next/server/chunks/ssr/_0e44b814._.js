module.exports=[87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},19941,a=>{"use strict";class b extends Error{status;data;constructor(a,b,c=null){super(a),this.name="ApiError",this.status=b,this.data=c}}async function c(a,d={}){let{method:e="GET",params:f,body:g,headers:h,signal:i}=d,j=function(a,b){let c=a.startsWith("http")?a:`http://localhost:8080/api${a}`;if(!b)return c;let d=new URL(c);return Object.entries(b).forEach(([a,b])=>{null!=b&&d.searchParams.append(a,String(b))}),d.toString()}(a,f),k={"Content-Type":"application/json",...h},l={method:e,headers:k,signal:i};if(null!=g&&"GET"!==e)if(g instanceof FormData){let{"Content-Type":a,...b}=k;l.headers=k=b,l.body=g}else l.body=JSON.stringify(g);let m=await fetch(j,l),n=await m.text(),o=null;if(n)try{o=JSON.parse(n)}catch{o=n}if(!m.ok)throw new b(m.statusText||"Request failed",m.status,o);return o}function d(a,b){return c(a,{...b,method:"GET"})}function e(a,b,d){return c(a,{...d,method:"POST",body:b})}a.s(["ApiError",()=>b,"get",()=>d,"post",()=>e])},60350,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(19941);let f="Zavod Ega",g="Kasser",h="Wafyor (Yo'l Hodisalari)",i="Texnik Mas'ul";function j(){let a=(0,d.useRouter)(),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(null),t=async b=>{if(b.preventDefault(),j&&l&&n){q(!0),s(null);try{let b=await (0,e.post)("/auth/login",{username:l,password:n,role:j});a.push(`/${b.user.role}-dashboard`)}catch(a){a instanceof e.ApiError?s(a.data&&a.data.message||a.message||"Kirishda xatolik yuz berdi"):s("Kirishda xatolik yuz berdi. Iltimos, qayta urinib ko'ring.")}finally{q(!1)}}};return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:(0,b.jsx)("div",{className:"w-full max-w-md",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-slate-200",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-blue-600 rounded-lg mb-4",children:(0,b.jsx)("span",{className:"text-xl font-bold text-white",children:"S"})}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"SimentMaker"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mt-2 font-medium",children:"Semento Zavodi Boshqaruv Tizimi"})]}),(0,b.jsxs)("form",{onSubmit:t,className:"space-y-6",children:[!j&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-3",children:"Rolni Tanlang"}),(0,b.jsx)("div",{className:"space-y-2",children:[{id:"owner",label:f,icon:"ðŸ‘”"},{id:"cashier",label:g,icon:"ðŸ’°"},{id:"driver",label:h,icon:"ðŸšš"},{id:"technical",label:i,icon:"âš™ï¸"}].map(a=>(0,b.jsxs)("label",{className:`flex items-center p-3 rounded-lg cursor-pointer transition-all border-2 ${j===a.id?"border-blue-600 bg-blue-50":"border-slate-200 bg-white hover:border-blue-300 hover:bg-slate-50"}`,children:[(0,b.jsx)("input",{type:"radio",name:"role",value:a.id,checked:j===a.id,onChange:a=>k(a.target.value),className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"ml-3 text-lg",children:a.icon}),(0,b.jsx)("span",{className:"ml-2 font-medium text-slate-900",children:a.label})]},a.id))})]}),j&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Login"}),(0,b.jsx)("input",{type:"text",value:l,onChange:a=>m(a.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent transition-all",placeholder:"owner01 yoki login"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Parol"}),(0,b.jsx)("input",{type:"password",value:n,onChange:a=>o(a.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent transition-all",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]}),(0,b.jsx)("button",{type:"submit",disabled:!j||!l||!n||p,className:"w-full bg-blue-600 text-white font-semibold py-2.5 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:p?"Yuklanmoqda...":"Kirish"}),r&&(0,b.jsx)("p",{className:"mt-3 text-sm text-red-600",children:r})]})]}),(0,b.jsx)("div",{className:"mt-6 text-center text-xs text-slate-500 border-t border-slate-100 pt-4",children:(0,b.jsx)("p",{children:"Demo ma'lumotlari: har qanday login/parol kombinatsiyasi"})})]})})})}a.s(["default",()=>j])}];

//# sourceMappingURL=_0e44b814._.js.map