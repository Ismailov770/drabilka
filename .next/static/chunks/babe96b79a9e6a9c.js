(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72161,e=>{"use strict";class t extends Error{status;data;constructor(e,t,a=null){super(e),this.name="ApiError",this.status=t,this.data=a}}async function a(e,s={}){let{method:l="GET",params:r,body:i,headers:n,signal:o}=s,d=function(e,t){let a=e.startsWith("http")?e:`http://localhost:8080/api${e}`;if(!t)return a;let s=new URL(a);return Object.entries(t).forEach(([e,t])=>{null!=t&&s.searchParams.append(e,String(t))}),s.toString()}(e,r),c={"Content-Type":"application/json",...n};try{let e=window.localStorage.getItem("authToken");e&&!c.Authorization&&(c={...c,Authorization:`Bearer ${e}`})}catch{}let u={method:l,headers:c,signal:o};if(null!=i&&"GET"!==l)if(i instanceof FormData){let{"Content-Type":e,...t}=c;u.headers=c=t,u.body=i}else u.body=JSON.stringify(i);let h=await fetch(d,u),m=await h.text(),b=null;if(m)try{b=JSON.parse(m)}catch{b=m}if(!h.ok)throw new t(h.statusText||"Request failed",h.status,b);return b}function s(e,t){return a(e,{...t,method:"GET"})}function l(e,t,s){return a(e,{...s,method:"POST",body:t})}e.s(["ApiError",()=>t,"get",()=>s,"post",()=>l])},31713,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),l=e.i(72161);let r="Zavod Ega",i="Kasser",n="Wafyor (Yo'l Hodisalari)",o="Texnik Mas'ul";function d(){let e=(0,s.useRouter)(),[d,c]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[m,b]=(0,a.useState)(""),[x,p]=(0,a.useState)(!1),[g,f]=(0,a.useState)(null),j=async t=>{if(t.preventDefault(),d&&u&&m){p(!0),f(null);try{let t=await (0,l.post)("/auth/login",{username:u,password:m,role:d});window.localStorage.setItem("authToken",t.token),window.localStorage.setItem("authUser",JSON.stringify(t.user)),window.localStorage.setItem("userRole",t.user.role),window.localStorage.setItem("userLanguage",t.user.language||"uz"),e.push(`/${t.user.role}-dashboard`)}catch(e){e instanceof l.ApiError?f(e.data&&e.data.message||e.message||"Kirishda xatolik yuz berdi"):f("Kirishda xatolik yuz berdi. Iltimos, qayta urinib ko'ring.")}finally{p(!1)}}};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:(0,t.jsx)("div",{className:"w-full max-w-md",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-slate-200",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-blue-600 rounded-lg mb-4",children:(0,t.jsx)("span",{className:"text-xl font-bold text-white",children:"S"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"SimentMaker"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 mt-2 font-medium",children:"Semento Zavodi Boshqaruv Tizimi"})]}),(0,t.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[!d&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-3",children:"Rolni Tanlang"}),(0,t.jsx)("div",{className:"space-y-2",children:[{id:"owner",label:r,icon:"ðŸ‘”"},{id:"cashier",label:i,icon:"ðŸ’°"},{id:"driver",label:n,icon:"ðŸšš"},{id:"technical",label:o,icon:"âš™ï¸"}].map(e=>(0,t.jsxs)("label",{className:`flex items-center p-3 rounded-lg cursor-pointer transition-all border-2 ${d===e.id?"border-blue-600 bg-blue-50":"border-slate-200 bg-white hover:border-blue-300 hover:bg-slate-50"}`,children:[(0,t.jsx)("input",{type:"radio",name:"role",value:e.id,checked:d===e.id,onChange:e=>c(e.target.value),className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"ml-3 text-lg",children:e.icon}),(0,t.jsx)("span",{className:"ml-2 font-medium text-slate-900",children:e.label})]},e.id))})]}),d&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Login"}),(0,t.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent transition-all",placeholder:"owner01 yoki login"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Parol"}),(0,t.jsx)("input",{type:"password",value:m,onChange:e=>b(e.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent transition-all",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]}),(0,t.jsx)("button",{type:"submit",disabled:!d||!u||!m||x,className:"w-full bg-blue-600 text-white font-semibold py-2.5 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:x?"Yuklanmoqda...":"Kirish"}),g&&(0,t.jsx)("p",{className:"mt-3 text-sm text-red-600",children:g})]})]}),(0,t.jsx)("div",{className:"mt-6 text-center text-xs text-slate-500 border-t border-slate-100 pt-4",children:(0,t.jsx)("p",{children:"Demo ma'lumotlari: har qanday login/parol kombinatsiyasi"})})]})})})}e.s(["default",()=>d])}]);