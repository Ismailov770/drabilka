(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77952,e=>{"use strict";var t=e.i(43476);let s={primary:"bg-gradient-to-r from-[#2563EB] to-[#4F46E5] text-white shadow-md hover:shadow-lg hover:brightness-110",secondary:"bg-white text-[#0F172A] border border-[#E2E8F0] hover:bg-[#F1F5F9] hover:border-[#CBD5E1]",danger:"bg-[#EF4444] text-white hover:bg-[#DC2626] shadow-sm",outline:"bg-transparent text-[#0F172A] border border-[#E2E8F0] hover:bg-[#F8FAFC] hover:border-[#CBD5E1]",ghost:"bg-transparent text-[#0F172A] hover:bg-[#F1F5F9]"},l={sm:"px-3 py-1.5 text-xs md:text-sm",md:"px-4 py-2 text-sm md:text-base",lg:"px-6 py-3 text-base md:text-lg"};function a({variant:e="primary",size:a="md",children:r,disabled:i,className:o="",...n}){return(0,t.jsx)("button",{className:`inline-flex items-center justify-center gap-2 rounded-full font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[#2563EB] focus-visible:ring-offset-[#F8FAFC] ${s[e]} ${l[a]} ${o}`,disabled:i,...n,children:r})}e.s(["Button",()=>a])},72161,e=>{"use strict";class t extends Error{status;data;constructor(e,t,s=null){super(e),this.name="ApiError",this.status=t,this.data=s}}async function s(e,l={}){let{method:a="GET",params:r,body:i,headers:o,signal:n}=l,d=function(e,t){let s=e.startsWith("http")?e:`http://localhost:8080/api${e}`;if(!t)return s;let l=new URL(s);return Object.entries(t).forEach(([e,t])=>{null!=t&&l.searchParams.append(e,String(t))}),l.toString()}(e,r),c={"Content-Type":"application/json",...o};try{let e=window.localStorage.getItem("authToken");e&&!c.Authorization&&(c={...c,Authorization:`Bearer ${e}`})}catch{}let x={method:a,headers:c,signal:n};if(null!=i&&"GET"!==a)if(i instanceof FormData){let{"Content-Type":e,...t}=c;x.headers=c=t,x.body=i}else x.body=JSON.stringify(i);let m=await fetch(d,x),h=await m.text(),u=null;if(h)try{u=JSON.parse(h)}catch{u=h}if(!m.ok)throw new t(m.statusText||"Request failed",m.status,u);return u}function l(e,t){return s(e,{...t,method:"GET"})}function a(e,t,l){return s(e,{...l,method:"POST",body:t})}e.s(["ApiError",()=>t,"get",()=>l,"post",()=>a])},91288,e=>{"use strict";var t=e.i(43476);let s=(0,e.i(75254).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"};function a({isOpen:e,title:a,onClose:r,children:i,size:o="md"}){return e?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-8 bg-slate-950/60 backdrop-blur-sm sm-animate-overlay-in",children:(0,t.jsxs)("div",{className:`w-full ${l[o]} bg-white rounded-2xl border border-slate-200/80 card-shadow-lg overflow-hidden max-h-[90vh] flex flex-col sm-animate-modal-in`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200/80",children:[(0,t.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900",children:a}),(0,t.jsx)("button",{onClick:r,className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-slate-400 hover:text-slate-900 hover:bg-slate-100 transition-colors",children:(0,t.jsx)(s,{className:"w-4 h-4"})})]}),(0,t.jsx)("div",{className:"px-6 py-5 overflow-y-auto",children:i})]})}):null}e.s(["Modal",()=>a],91288)},39685,e=>{"use strict";var t=e.i(43476),s=e.i(77952),l=e.i(71645),a=e.i(91288),r=e.i(72161);let i="Xodim Ismi",o="Miqdor",n="Tafsifi",d="Xodim Oyligi",c="Ehtyot (Avans)",x="Solyarka",m="Yo'l/Transport",h="Boshqa",u="Saqlash";function p(){let[e,p]=(0,l.useState)(!1),[b,f]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),[j,v]=(0,l.useState)("all"),[N,w]=(0,l.useState)(d),[S,k]=(0,l.useState)(""),[E,T]=(0,l.useState)([]),[q,C]=(0,l.useState)([]),[F,A]=(0,l.useState)(null),[O,B]=(0,l.useState)(!1),[$,z]=(0,l.useState)(""),[R,D]=(0,l.useState)("Oddiy sement"),[K,M]=(0,l.useState)(""),[P,Y]=(0,l.useState)(""),[I,J]=(0,l.useState)("Naqd");return(0,l.useEffect)(()=>{let e=!1;return(async()=>{B(!0),A(null);try{let t=await (0,r.get)("/cashier-dashboard");if(e)return;let s=Array.isArray(t.employees)?t:t.items,l=(s?.employees??[]).map(e=>({name:e.employeeName,salary:e.baseSalary,paidAdvance:e.advance,totalExpense:e.total,date:""})),a=(s?.expenses??[]).map(e=>({type:e.type,employee:e.employeeName??"",amount:e.amount,date:e.date,description:e.description}));T(l),C(a)}catch(t){if(e)return;t instanceof r.ApiError?A(t.data&&t.data.message||t.message||"Kassir paneli ma'lumotlarini yuklashda xatolik yuz berdi"):A("Kassir paneli ma'lumotlarini yuklashda xatolik yuz berdi. Iltimos, qayta urinib ko'ring.")}finally{e||B(!1)}})(),()=>{e=!0}},[]),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-semibold text-slate-900",children:"Kasser Paneli"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Moliyaviy Ko'rinish"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 card-shadow-lg border border-slate-100",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Xodimlar"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200",children:[(0,t.jsx)("th",{className:"text-left px-3 py-2 font-semibold text-slate-700",children:i}),(0,t.jsx)("th",{className:"text-left px-3 py-2 font-semibold text-slate-700",children:"Oyliq"}),(0,t.jsx)("th",{className:"text-left px-3 py-2 font-semibold text-slate-700",children:"To'langan Ehtyot"}),(0,t.jsx)("th",{className:"text-left px-3 py-2 font-semibold text-slate-700",children:"Jami Rasxod"})]})}),(0,t.jsx)("tbody",{children:E.map((e,s)=>(0,t.jsxs)("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[(0,t.jsx)("td",{className:"px-3 py-3 text-slate-900 font-medium",children:e.name}),(0,t.jsxs)("td",{className:"px-3 py-3 text-slate-700",children:[e.salary," $"]}),(0,t.jsxs)("td",{className:"px-3 py-3 text-slate-700",children:[e.paidAdvance," $"]}),(0,t.jsxs)("td",{className:"px-3 py-3 font-semibold text-blue-600",children:[e.totalExpense," $"]})]},s))})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 card-shadow-lg border border-slate-100",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Ehtiyotlar"}),(0,t.jsx)("div",{className:"space-y-3",children:E.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 border border-slate-100 rounded-lg hover:bg-slate-50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-slate-900",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:e.date})]}),(0,t.jsxs)("span",{className:"font-semibold text-amber-600",children:[e.paidAdvance," $"]})]},s))})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 card-shadow-lg border border-slate-100",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Rasxodlar Jadvali"}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"sm-select text-sm",children:[(0,t.jsx)("option",{value:"all",children:"Barcha rasxodlar"}),(0,t.jsx)("option",{value:"salary",children:"Oyliq"}),(0,t.jsx)("option",{value:"advance",children:"Ehtyot"}),(0,t.jsx)("option",{value:"fuel",children:"Solyarka"}),(0,t.jsx)("option",{value:"road",children:"Yo'l"}),(0,t.jsx)("option",{value:"other",children:"Boshqa"})]})})]}),F&&(0,t.jsx)("p",{className:"mb-4 text-sm text-red-600",children:F}),O&&!F&&(0,t.jsx)("p",{className:"mb-4 text-sm text-slate-500",children:"Yuklanmoqda..."}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50",children:[(0,t.jsx)("th",{className:"text-left px-4 py-3 font-semibold text-slate-700",children:"Sana"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 font-semibold text-slate-700",children:"Turi"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 font-semibold text-slate-700",children:i}),(0,t.jsx)("th",{className:"text-left px-4 py-3 font-semibold text-slate-700",children:n}),(0,t.jsx)("th",{className:"text-right px-4 py-3 font-semibold text-slate-700",children:o})]})}),(0,t.jsx)("tbody",{children:q.filter(e=>"all"===j||"salary"===j&&"Oyliq"===e.type||"advance"===j&&"Ehtyot"===e.type||"fuel"===j&&"Solyarka"===e.type||"road"===j&&"Yo'l"===e.type||"other"===j&&"Boshqa"===e.type).map((e,s)=>(0,t.jsxs)("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-slate-600 text-sm",children:e.date}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"Oyliq"===e.type?"bg-blue-100 text-blue-700":"Ehtyot"===e.type?"bg-purple-100 text-purple-700":"Solyarka"===e.type?"bg-orange-100 text-orange-700":"Yo'l"===e.type?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:e.type})}),(0,t.jsx)("td",{className:"px-4 py-3 text-slate-900 font-medium",children:e.employee}),(0,t.jsx)("td",{className:"px-4 py-3 text-slate-600",children:e.description}),(0,t.jsxs)("td",{className:"px-4 py-3 text-right text-slate-900 font-semibold",children:[e.amount," $"]})]},s))})]})})]}),(0,t.jsx)(a.Modal,{isOpen:e,title:"Savdo Qo'shish",onClose:()=>p(!1),size:"md",children:(0,t.jsxs)("form",{className:"space-y-4",onSubmit:async e=>{e.preventDefault();try{let e={client:$||"Naqd mijoz",phone:"",material:R,weight:Number(K)||0,price:Number(P)||0,date:new Date().toISOString().slice(0,10),employee:"Kassir",carNumber:$||"",paymentType:I,note:""};await (0,r.post)("/sales",e)}catch(e){e instanceof r.ApiError?console.error("Savdoni saqlashda xatolik:",e.data||e.message):console.error("Savdoni saqlashda xatolik:",e)}z(""),D("Oddiy sement"),M(""),Y(""),J("Naqd"),p(!1)},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Truck nomeri"}),(0,t.jsx)("input",{type:"text",placeholder:"10/O568DS",value:$,onChange:e=>z(e.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Material Turi"}),(0,t.jsxs)("select",{value:R,onChange:e=>D(e.target.value),className:"w-full sm-select",children:[(0,t.jsx)("option",{children:"Oddiy sement"}),(0,t.jsx)("option",{children:"Tez qotuvchi sement"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Og'irligi (tonna)"}),(0,t.jsx)("input",{type:"number",placeholder:"0",value:K,onChange:e=>M(""===e.target.value?"":Number(e.target.value)),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Bir Tonnaga Narx ($)"}),(0,t.jsx)("input",{type:"number",placeholder:"0",value:P,onChange:e=>Y(""===e.target.value?"":Number(e.target.value)),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"To'lov Turi"}),(0,t.jsxs)("select",{value:I,onChange:e=>J(e.target.value),className:"w-full sm-select",children:[(0,t.jsx)("option",{value:"Naqd",children:"Naqd Pul"}),(0,t.jsx)("option",{value:"Qarzga",children:"Qarzga"})]})]}),(0,t.jsx)(s.Button,{type:"submit",variant:"primary",className:"w-full",children:u})]})}),(0,t.jsx)(a.Modal,{isOpen:b,title:"Rasxod Qo'shish",onClose:()=>f(!1),size:"md",children:(0,t.jsxs)("form",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Rasxod Turi"}),(0,t.jsxs)("select",{value:N,onChange:e=>{let t=e.target.value;w(t),t===d?k(E[0]?.name??""):k("")},className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",children:[(0,t.jsx)("option",{value:d,children:d}),(0,t.jsx)("option",{value:c,children:c}),(0,t.jsx)("option",{value:x,children:x}),(0,t.jsx)("option",{value:m,children:m}),(0,t.jsx)("option",{value:h,children:h})]})]}),N===d&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:i}),(0,t.jsx)("select",{value:S,onChange:e=>k(e.target.value),className:"w-full sm-select",children:E.map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e.name))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:o}),(0,t.jsx)("input",{type:"number",placeholder:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:n}),(0,t.jsx)("textarea",{placeholder:"Rasxod tafsilotlari",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",rows:3})]}),(0,t.jsx)(s.Button,{type:"submit",variant:"primary",className:"w-full",children:u})]})})]})}e.s(["default",()=>p])}]);