(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,91288,e=>{"use strict";var t=e.i(43476);let a=(0,e.i(75254).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),s={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"};function l({isOpen:e,title:l,onClose:r,children:n,size:o="md"}){return e?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-8 bg-slate-950/60 backdrop-blur-sm sm-animate-overlay-in",children:(0,t.jsxs)("div",{className:`w-full ${s[o]} bg-white rounded-2xl border border-slate-200/80 card-shadow-lg overflow-hidden max-h-[90vh] flex flex-col sm-animate-modal-in`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200/80",children:[(0,t.jsx)("h2",{className:"text-base md:text-lg font-semibold text-slate-900",children:l}),(0,t.jsx)("button",{onClick:r,className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-slate-400 hover:text-slate-900 hover:bg-slate-100 transition-colors",children:(0,t.jsx)(a,{className:"w-4 h-4"})})]}),(0,t.jsx)("div",{className:"px-6 py-5 overflow-y-auto",children:n})]})}):null}e.s(["Modal",()=>l],91288)},72161,e=>{"use strict";class t extends Error{status;data;constructor(e,t,a=null){super(e),this.name="ApiError",this.status=t,this.data=a}}async function a(e,s={}){let{method:l="GET",params:r,body:n,headers:o,signal:i}=s,d=function(e,t){let a=e.startsWith("http")?e:`http://localhost:8080/api${e}`;if(!t)return a;let s=new URL(a);return Object.entries(t).forEach(([e,t])=>{null!=t&&s.searchParams.append(e,String(t))}),s.toString()}(e,r),c={"Content-Type":"application/json",...o};try{let e=window.localStorage.getItem("authToken");e&&!c.Authorization&&(c={...c,Authorization:`Bearer ${e}`})}catch{}let m={method:l,headers:c,signal:i};if(null!=n&&"GET"!==l)if(n instanceof FormData){let{"Content-Type":e,...t}=c;m.headers=c=t,m.body=n}else m.body=JSON.stringify(n);let u=await fetch(d,m),x=await u.text(),y=null;if(x)try{y=JSON.parse(x)}catch{y=x}if(!u.ok)throw new t(u.statusText||"Request failed",u.status,y);return y}function s(e,t){return a(e,{...t,method:"GET"})}function l(e,t,s){return a(e,{...s,method:"POST",body:t})}e.s(["ApiError",()=>t,"get",()=>s,"post",()=>l])},8623,e=>{"use strict";var t=e.i(43476),a=e.i(71645);function s({columns:e,data:s,searchableFields:l=[],actions:r,renderCell:n,footerTotals:o}){let[i,d]=(0,a.useState)(""),[c,m]=(0,a.useState)(null),[u,x]=(0,a.useState)(1),y=s;l.length>0&&(y=s.filter(e=>l.some(t=>String(e[t]).toLowerCase().includes(i.toLowerCase())))),c&&(y=[...y].sort((e,t)=>{let a=e[c.key],s=t[c.key],l=a<s?-1:+(a>s);return"asc"===c.direction?l:-l}));let b=Math.ceil(y.length/10),h=y.slice((u-1)*10,10*u),p=o?y.reduce((e,t)=>(void 0!==t.quantity&&(e.quantity+=t.quantity),void 0!==t.totalSum&&(e.totalSum+=t.totalSum),void 0!==t.amount&&(e.amount+=t.amount),void 0!==t.total&&(e.total+=t.total),void 0!==t.advance&&(e.advance+=t.advance),void 0!==t.remaining&&(e.remaining+=t.remaining),void 0!==t.cost&&(e.cost+=t.cost),void 0!==t.count&&(e.count+=t.count),e),{quantity:0,totalSum:0,amount:0,total:0,advance:0,remaining:0,cost:0,count:y.length}):null;return(0,t.jsxs)("div",{className:"space-y-4",children:[l.length>0&&(0,t.jsx)("div",{className:"flex gap-4",children:(0,t.jsx)("input",{type:"text",placeholder:"Search...",value:i,onChange:e=>{d(e.target.value),x(1)},className:"flex-1 px-4 py-2 border border-slate-200 rounded-lg text-sm text-slate-700 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-[#2563EB]"})}),(0,t.jsx)("div",{className:"overflow-x-auto rounded-2xl border border-slate-100",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-200",children:[e.map(e=>(0,t.jsx)("th",{className:"px-6 py-3 text-left",children:e.sortable?(0,t.jsxs)("button",{onClick:()=>{var t;return t=e.key,void(m(e=>e?.key===t&&"asc"===e.direction?{key:t,direction:"desc"}:{key:t,direction:"asc"}),x(1))},className:"flex items-center gap-2 font-semibold text-slate-700 hover:text-[#2563EB] transition-colors",children:[e.label,c?.key===e.key&&(0,t.jsx)("span",{children:"asc"===c.direction?"↑":"↓"})]}):(0,t.jsx)("span",{className:"font-semibold text-slate-700",children:e.label})},e.key)),r&&(0,t.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-slate-700",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:h.map((a,s)=>(0,t.jsxs)("tr",{className:"border-b border-slate-100 hover:bg-slate-50 transition-colors",children:[e.map(e=>(0,t.jsx)("td",{className:"px-6 py-4 text-slate-900 text-sm",children:n?n(a,e):a[e.key]},e.key)),r&&(0,t.jsx)("td",{className:"px-6 py-4",children:r(a)})]},s))}),p&&(0,t.jsx)("tfoot",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-t border-slate-200 font-semibold",children:[e.map(a=>"quantity"===a.key&&void 0!==p.quantity?(0,t.jsxs)("td",{className:"px-6 py-4 text-slate-900 text-sm",children:[new Intl.NumberFormat("ru-RU",{maximumFractionDigits:0}).format(p.quantity)," tonna"]},a.key):"cost"===a.key&&void 0!==p.cost?(0,t.jsx)("td",{className:"px-6 py-4 text-slate-900 text-sm",children:new Intl.NumberFormat("ru-RU",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(p.cost)},a.key):"totalSum"===a.key&&void 0!==p.totalSum?(0,t.jsxs)("td",{className:"px-6 py-4 text-slate-900 text-sm",children:[new Intl.NumberFormat("ru-RU",{maximumFractionDigits:0}).format(p.totalSum)," so'm"]},a.key):"amount"===a.key&&void 0!==p.amount?(0,t.jsx)("td",{className:"px-6 py-4 text-slate-900 text-sm",children:new Intl.NumberFormat("ru-RU",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(p.amount)},a.key):"total"===a.key&&void 0!==p.total?(0,t.jsx)("td",{className:"px-6 py-4 text-slate-900 text-sm",children:new Intl.NumberFormat("ru-RU",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(p.total)},a.key):"advance"===a.key&&void 0!==p.advance?(0,t.jsx)("td",{className:"px-6 py-4 text-slate-900 text-sm",children:new Intl.NumberFormat("ru-RU",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(p.advance)},a.key):"remaining"===a.key&&void 0!==p.remaining?(0,t.jsx)("td",{className:"px-6 py-4 text-slate-900 text-sm",children:new Intl.NumberFormat("ru-RU",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(p.remaining)},a.key):"batchId"===a.key||"id"===a.key?(0,t.jsx)("td",{className:"px-6 py-4 text-slate-900 text-right font-semibold text-sm",children:"Jami:"},a.key):("operator"!==a.key||void 0===p.count||!(p.count>0))&&("producedAt"!==a.key&&"loggedAt"!==a.key&&"payoutDate"!==a.key&&"date"!==a.key||void 0===p.count||!(p.count>0)||e.find(e=>"operator"===e.key))&&("status"!==a.key||void 0===p.count||!(p.count>0)||e.find(e=>"operator"===e.key)||e.find(e=>"producedAt"===e.key||"loggedAt"===e.key||"payoutDate"===e.key||"date"===e.key))&&("transport"!==a.key||void 0===p.count||!(p.count>0)||e.find(e=>"operator"===e.key)||e.find(e=>"producedAt"===e.key||"loggedAt"===e.key||"payoutDate"===e.key||"date"===e.key)||e.find(e=>"status"===e.key))?(0,t.jsx)("td",{className:"px-6 py-4 text-slate-400 text-sm",children:"-"},a.key):(0,t.jsxs)("td",{className:"px-6 py-4 text-slate-900 font-semibold text-sm",children:[new Intl.NumberFormat("ru-RU",{maximumFractionDigits:0}).format(p.count)," ta"]},a.key)),r&&(0,t.jsx)("td",{className:"px-6 py-4"})]})})]})}),b>1&&(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"text-sm text-slate-500",children:["Page ",u," of ",b]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>x(e=>Math.max(1,e-1)),disabled:1===u,className:"px-3 py-1 border border-slate-200 rounded-full text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50",children:"Previous"}),(0,t.jsx)("button",{onClick:()=>x(e=>Math.min(b,e+1)),disabled:u===b,className:"px-3 py-1 border border-slate-200 rounded-full text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50",children:"Next"})]})]})]})}e.s(["DataTable",()=>s])},93283,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(64659);function l({value:e,onChange:l,options:r,placeholder:n,className:o}){let[i,d]=(0,a.useState)(!1),c=(0,a.useRef)(null),m=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(!i)return;let e=e=>{let t=e.target;!c.current&&!m.current||c.current?.contains(t)||m.current?.contains(t)||d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[i]);let u=r.find(t=>t.value===e);return(0,t.jsxs)("div",{className:`relative ${o??""}`,children:[(0,t.jsxs)("button",{ref:c,type:"button",onClick:()=>d(e=>!e),className:"w-full sm-select flex items-center justify-between gap-2",children:[(0,t.jsx)("span",{className:u?"text-slate-900":"text-slate-400",children:u?.label??n??"Tanlang"}),(0,t.jsx)(s.ChevronDown,{className:`w-4 h-4 shrink-0 text-slate-400 transition-transform ${i?"rotate-180":""}`})]}),i&&(0,t.jsx)("div",{ref:m,className:"absolute z-50 mt-1 w-full rounded-xl border border-slate-200 bg-white shadow-lg max-h-60 overflow-auto sm-animate-submenu-in",children:r.map(a=>{let s=a.value===e;return(0,t.jsx)("button",{type:"button",onClick:()=>{l(a.value),d(!1)},className:`w-full px-3 py-2 text-left text-sm transition-colors ${s?"bg-[#2563EB] text-white":"text-slate-700 hover:bg-slate-50"}`,children:a.label},a.value)})})]})}e.s(["SelectField",()=>l])},83810,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(8623),l=e.i(91288),r=e.i(93283),n=e.i(72161);function o(e){let t=e.id??e.payrollId??"",a=e.employee??e.employeeName??e.fullName??e.name??(e.employeeCode?String(e.employeeCode):"UNKNOWN"),s=e.department??e.departmentName??"-",l=e.role??e.position??"",r=e.month??e.monthLabel??(null!=e.year&&null!=e.monthNumber?`${e.year} M${String(e.monthNumber).padStart(2,"0")}`:""),n=e.baseSalary??e.salary??0,o=e.overtime??0,i=e.deductions??0,d=e.total??e.totalSalary??n,c=e.advance??0,m=e.remaining??d-c,u=e.status??"",x=e.payoutDate??e.date??e.loggedAt??e.createdAt??"";return{id:String(t),employee:a,department:s,role:l,month:r,baseSalary:n,overtime:o,deductions:i,total:d,advance:c,remaining:m,status:u,payoutDate:x}}let i=[{key:"id",label:"ID",sortable:!0},{key:"employee",label:"Xodim",sortable:!0},{key:"role",label:"Lavozim",sortable:!1},{key:"month",label:"Oyi",sortable:!0},{key:"total",label:"Umumiy oyligi ($)",sortable:!0},{key:"advance",label:"Olgan avansi ($)",sortable:!0},{key:"remaining",label:"Qoldiq ($)",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"payoutDate",label:"To'lov sanasi",sortable:!0}],d=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"USD",maximumFractionDigits:0}),c=()=>{let e=new Date,t=e.getFullYear(),a=e.getMonth()+1;return`${t} M${String(a).padStart(2,"0")}`},m=new Date,u=m.getFullYear(),x=`${u}-01-01`,y=m.toISOString().slice(0,10);function b(){let[e,m]=(0,a.useState)({dateFrom:x,dateTo:y,status:"all"}),[u,b]=(0,a.useState)([]),[h,p]=(0,a.useState)(!1),[g,f]=(0,a.useState)(null),[v,j]=(0,a.useState)(!1),[N,k]=(0,a.useState)(!1),[w,S]=(0,a.useState)(null),[F,D]=(0,a.useState)({amount:"",paymentDate:new Date().toISOString().split("T")[0],notes:""}),[E,A]=(0,a.useState)({employee:"",role:"",month:c(),baseSalary:""}),[T,C]=(0,a.useState)(null),[B,q]=(0,a.useState)(!1),[O,I]=(0,a.useState)(null),[U,M]=(0,a.useState)(!1),[$,z]=(0,a.useState)([]),[R,L]=(0,a.useState)([]),[P,X]=(0,a.useState)([]),[Y,Q]=(0,a.useState)([]);(0,a.useEffect)(()=>{let t=!1;return(async()=>{p(!0),f(null);try{let a=await (0,n.get)("/payroll",{params:{dateFrom:e.dateFrom||void 0,dateTo:e.dateTo||void 0,status:"all"===e.status?void 0:e.status}});if(t)return;let s=Array.isArray(a)?a:a.items??[];b(s.map(e=>o(e)))}catch(e){if(t)return;e instanceof n.ApiError?f(e.data&&e.data.message||e.message||"Oylik yozuvlarini yuklashda xatolik yuz berdi"):f("Oylik yozuvlarini yuklashda xatolik yuz berdi. Iltimos, qayta urinib ko'ring.")}finally{t||p(!1)}})(),()=>{t=!0}},[e.dateFrom,e.dateTo,e.status]),(0,a.useEffect)(()=>{let e=!1;return(async()=>{try{let[t,a,s]=await Promise.all([(0,n.get)("/payroll/filters"),(0,n.get)("/employees",{params:{department:"",role:"",active:!0}}),(0,n.get)("/employees/filters")]);if(e)return;let l=t.departments??[],r=t.statuses??[];L(l),X(r);let o=Array.isArray(a)?a:a.items??[];z(o);let i=s.roles??[];Q(i),A(e=>({...e,role:e.role||i[0]||""}))}catch{}})(),()=>{e=!0}},[]);let G=(0,a.useMemo)(()=>u.filter(t=>{let a,s,l;return("all"===e.status||t.status===e.status)&&(a=new Date(t.payoutDate).getTime(),s=e.dateFrom?new Date(e.dateFrom).getTime():void 0,l=e.dateTo?new Date(e.dateTo).getTime():void 0,("number"!=typeof s||a>=s)&&("number"!=typeof l||a<=l))}),[u,e.status,e.dateFrom,e.dateTo]),J=G.reduce((e,t)=>(e.total+=t.total,e.count+=1,e),{total:0,count:0});J.count&&(J.total,J.count);let K=(0,a.useMemo)(()=>Y.map(e=>({value:e,label:e})),[Y]);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-[#0F172A]",children:"Ishchilar oyligi"}),(0,t.jsx)("p",{className:"text-[#64748B] mt-1",children:"Bo'limlar kesimidagi to'lovlar holati"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 card-shadow space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-[#0F172A] mb-2 block",children:"Boshlanish sanasi"}),(0,t.jsx)("input",{type:"date",value:e.dateFrom,onChange:e=>m(t=>({...t,dateFrom:e.target.value})),className:"w-full px-3 py-2 border border-[#E2E8F0] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-[#0F172A] mb-2 block",children:"Tugash sanasi"}),(0,t.jsx)("input",{type:"date",value:e.dateTo,onChange:e=>m(t=>({...t,dateTo:e.target.value})),className:"w-full px-3 py-2 border border-[#E2E8F0] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-[#0F172A] mb-2 block",children:"Status"}),(0,t.jsx)(r.SelectField,{value:e.status,onChange:e=>m(t=>({...t,status:e})),options:[{value:"all",label:"Barchasi"},...P.map(e=>({value:e,label:e}))]})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{type:"button",onClick:()=>m({dateFrom:"",dateTo:"",status:"all"}),className:"px-4 py-2 border border-[#E2E8F0] rounded-lg text-sm text-[#0F172A] hover:bg-[#F1F5F9] mt-2",children:"Filtrlarni tozalash"})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 card-shadow",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-[#0F172A]",children:"Ish haqi ro'yxati"}),(0,t.jsxs)("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-[#2563EB] text-white rounded-lg hover:bg-[#1D4ED8] transition-colors font-semibold flex items-center gap-2",children:[(0,t.jsx)("span",{children:"+"}),(0,t.jsx)("span",{children:"Yangi ishchini ishga olish"})]})]}),g&&(0,t.jsx)("p",{className:"mb-4 text-sm text-red-600",children:g}),(0,t.jsx)(s.DataTable,{columns:i,data:G,searchableFields:["id","employee","department","role","status"],renderCell:(e,a)=>{if("total"===a.key||"advance"===a.key)return d.format(e[a.key]);if("remaining"===a.key){let s=e[a.key],l=s<0;return(0,t.jsxs)("span",{className:l?"text-red-600 font-semibold":"",children:[l?"-":"",d.format(Math.abs(s))]})}return e[a.key]},actions:e=>(0,t.jsx)("button",{onClick:()=>{C(null),S(e),D({amount:e.remaining>0?e.remaining.toString():"",paymentDate:new Date().toISOString().split("T")[0],notes:""}),j(!0)},className:"px-3 py-1 bg-[#10B981] text-white rounded-lg hover:bg-[#059669] transition-colors text-sm font-semibold",children:"Oylik berish"}),footerTotals:G.reduce((e,t)=>(e.total+=t.total,e.advance+=t.advance,e.remaining+=t.remaining,e.count+=1,e),{total:0,advance:0,remaining:0,count:0})})]}),(0,t.jsx)(l.Modal,{isOpen:v,title:w?`${w.employee} uchun oylik berish`:"Oylik berish",onClose:()=>{j(!1),S(null),D({amount:"",paymentDate:new Date().toISOString().split("T")[0],notes:""}),C(null),q(!1)},size:"lg",children:w&&(0,t.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!w)return;let t=Number(F.amount);q(!0),C(null);try{let e={amount:t,paymentDate:F.paymentDate,notes:F.notes||void 0},a=await (0,n.post)(`/payroll/${w.id}/pay`,e),s=a.record??a;b(e=>e.map(e=>e.id===s.id?s:e)),j(!1),S(null),D({amount:"",paymentDate:new Date().toISOString().split("T")[0],notes:""})}catch(e){e instanceof n.ApiError?C(e.data&&e.data.message||e.message||"Oylik to'lovini saqlashda xatolik yuz berdi"):C("Oylik to'lovini saqlashda xatolik yuz berdi. Iltimos, qayta urinib ko'ring.")}finally{q(!1)}},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-[#F8FAFC] p-4 rounded-lg space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-[#64748B]",children:"Xodim:"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-[#0F172A]",children:w.employee})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-[#64748B]",children:"Bo'lim:"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-[#0F172A]",children:w.department})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-[#64748B]",children:"Umumiy oyligi:"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-[#0F172A]",children:d.format(w.total)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-[#64748B]",children:"Olgan avansi:"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-[#0F172A]",children:d.format(w.advance)})]}),(0,t.jsxs)("div",{className:"flex justify-between border-t border-[#E2E8F0] pt-2",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-[#0F172A]",children:"Qoldiq:"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-[#10B981]",children:d.format(w.remaining)})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-[#0F172A] mb-2 block",children:"To'lov miqdori ($)"}),(0,t.jsx)("input",{type:"number",value:F.amount,onChange:e=>D(t=>({...t,amount:e.target.value})),className:"w-full px-3 py-2 border border-[#E2E8F0] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB]",placeholder:"0",min:"0",step:"0.01",required:!0}),(0,t.jsxs)("p",{className:"text-xs text-[#64748B] mt-1",children:["Qoldiq: ",d.format(w.remaining),w.remaining<0&&(0,t.jsxs)("span",{className:"text-red-600 ml-2",children:["(Qoldiqdan ko'p berilgan: ",d.format(Math.abs(w.remaining)),")"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-[#0F172A] mb-2 block",children:"To'lov sanasi"}),(0,t.jsx)("input",{type:"date",value:F.paymentDate,onChange:e=>D(t=>({...t,paymentDate:e.target.value})),className:"w-full px-3 py-2 border border-[#E2E8F0] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB]",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-[#0F172A] mb-2 block",children:"Izoh (ixtiyoriy)"}),(0,t.jsx)("textarea",{value:F.notes,onChange:e=>D(t=>({...t,notes:e.target.value})),className:"w-full px-3 py-2 border border-[#E2E8F0] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB]",rows:3,placeholder:"Qo'shimcha ma'lumotlar..."})]}),T&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:T}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-[#10B981] text-white rounded-lg hover:bg-[#059669] transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",disabled:B,children:"Oylik berish"}),(0,t.jsx)("button",{type:"button",onClick:()=>{j(!1),S(null),D({amount:"",paymentDate:new Date().toISOString().split("T")[0],notes:""})},className:"flex-1 px-4 py-2 bg-gray-200 text-[#0F172A] rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Bekor qilish"})]})]})}),(0,t.jsx)(l.Modal,{isOpen:N,title:"Yangi ishchini ishga olish",onClose:()=>{k(!1),A({employee:"",role:"",month:c(),baseSalary:""}),I(null),M(!1)},size:"lg",children:(0,t.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),M(!0),I(null);try{let t=E.employee.trim();if(!t){I("Xodim ismi kiritilmagan"),M(!1);return}let a=E.month.trim(),s=a.match(/^(\d{4})\s*M(\d{1,2})$/);if(!s){I("Oyi noto'g'ri formatda. Masalan: 2025 M12"),M(!1);return}let l=Number(s[1]),r=Number(s[2]),i={employeeId:0,employeeName:t,employeeRole:E.role||null,year:l,month:r,monthLabel:a,baseSalary:""!==E.baseSalary&&Number(E.baseSalary)||0,overtime:0,deductions:0,advance:0};await (0,n.post)("/payroll",i);try{let t=await (0,n.get)("/payroll",{params:{dateFrom:e.dateFrom,dateTo:e.dateTo,status:"all"===e.status?void 0:e.status}}),a=Array.isArray(t)?t:t.items??[];b(a.map(e=>o(e)))}catch{}k(!1),A({employee:"",role:"",month:c(),baseSalary:""})}catch(e){e instanceof n.ApiError?I(e.data&&e.data.message||e.message||"Yangi ishchini saqlashda xatolik yuz berdi"):I("Yangi ishchini saqlashda xatolik yuz berdi. Iltimos, qayta urinib ko'ring.")}finally{M(!1)}},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-[#0F172A] mb-2 block",children:"Xodim ismi"}),(0,t.jsx)("input",{type:"text",value:E.employee,onChange:e=>A(t=>({...t,employee:e.target.value})),className:"w-full px-3 py-2 border border-[#E2E8F0] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB]",placeholder:"Xodim ismini kiriting",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-[#0F172A] mb-2 block",children:"Lavozim"}),(0,t.jsx)(r.SelectField,{value:E.role,onChange:e=>A(t=>({...t,role:e})),options:K})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-[#0F172A] mb-2 block",children:"Oyi"}),(0,t.jsx)("input",{type:"text",value:E.month,onChange:e=>A(t=>({...t,month:e.target.value})),className:"w-full px-3 py-2 border border-[#E2E8F0] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB]",placeholder:"Masalan: 2025 M12",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-[#0F172A] mb-2 block",children:"Asosiy oylik ($)"}),(0,t.jsx)("input",{type:"number",value:E.baseSalary,onChange:e=>A(t=>({...t,baseSalary:e.target.value})),className:"w-full px-3 py-2 border border-[#E2E8F0] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2563EB]",placeholder:"0",min:"0",step:"0.01",required:!0})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-[#2563EB] text-white rounded-lg hover:bg-[#1D4ED8] transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",disabled:U,children:"Saqlash"}),(0,t.jsx)("button",{type:"button",onClick:()=>{k(!1),A({employee:"",role:"",month:c(),baseSalary:""}),I(null)},className:"flex-1 px-4 py-2 bg-gray-200 text-[#0F172A] rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Bekor qilish"})]}),O&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:O})]})})]})}e.s(["default",()=>b])}]);